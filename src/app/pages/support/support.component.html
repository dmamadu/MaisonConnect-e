<!-- Fond dynamique -->
<div class="absolute inset-0 bg-gradient-to-br from-gray-100 to-gray-50 dark:from-black/80 dark:to-black/60 -z-10"></div>

<section class="min-h-screen px-6 py-14 lg:py-20 relative flex flex-col items-center justify-center">

  <!-- HERO -->
  <header class="text-center mb-12 lg:mb-16">
    <h1 class="text-4xl lg:text-5xl font-extrabold text-gray-900 dark:text-white">
      {{ 'support.title' | translate }}
    </h1>
    <p class="text-gray-600 dark:text-gray-300 text-lg max-w-2xl mx-auto mt-4">
      {{ 'support.subtitle' | translate }}
    </p>
  </header>

  <!-- GRID SUPPORT -->
  <section class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3 max-w-7xl w-full mx-auto mb-16">
    <article *ngFor="let s of supportItems; let i = index"
             class="bg-white dark:bg-gray-900 rounded-2xl shadow-md dark:shadow-lg overflow-hidden flex flex-col transition transform hover:-translate-y-2 hover:scale-[1.02] opacity-0 animate-fade-up"
             [class.lg:col-start-2]="supportItems.length === 4 && i === 3"
             [style.animationDelay]="delayForIndex(i)">
      
      <!-- Image pleine largeur avec fond noir/blanc -->
      <div class="w-full h-48 bg-gray-900 dark:bg-gray-100 flex items-center justify-center overflow-hidden relative">
        <img 
          [src]="s.icon" 
          [alt]="s.title" 
          class="w-24 h-24 object-contain filter drop-shadow-lg" 
          loading="lazy" 
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"></div>
      </div>

      <!-- Contenu centrÃ© -->
      <div class="p-6 flex flex-col items-center text-center flex-1">
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-3">
          {{ s.title | translate }}
        </h3>
        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-4 flex-1">
          {{ s.description | translate }}
        </p>

        <a *ngIf="s.link"
           [routerLink]="s.link"
           class="mt-auto px-6 py-2 rounded-full border-2 border-gray-900 dark:border-gray-100 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 hover:bg-gray-900 hover:text-white dark:hover:bg-gray-100 dark:hover:text-gray-900 transition-all duration-300 font-medium">
           {{ 'support.buttons.access' | translate }}
        </a>
      </div>
    </article>
  </section>

  <!-- FORMULAIRE CONTACT RAPIDE -->
  <div class="max-w-3xl w-full mx-auto p-8 bg-white dark:bg-gray-900 rounded-2xl shadow-xl dark:shadow-2xl border border-gray-200 dark:border-gray-800">
    <div class="flex items-center gap-3 mb-6">
      <div class="w-12 h-12 bg-gray-900 dark:bg-gray-100 rounded-full flex items-center justify-center">
        <svg class="w-6 h-6 text-white dark:text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
      </div>
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white">
        {{ 'support.form.title' | translate }}
      </h2>
    </div>
    
    <form (submit)="submitForm()">
      <div class="grid gap-5">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            {{ 'support.form.name' | translate }}
          </label>
          <input type="text" placeholder="{{ 'support.form.name_placeholder' | translate }}" [(ngModel)]="form.name" name="name" required
                 class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:border-gray-900 dark:focus:border-gray-100 focus:outline-none transition" />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            {{ 'support.form.email' | translate }}
          </label>
          <input type="email" placeholder="{{ 'support.form.email_placeholder' | translate }}" [(ngModel)]="form.email" name="email" required
                 class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:border-gray-900 dark:focus:border-gray-100 focus:outline-none transition" />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
            {{ 'support.form.message' | translate }}
          </label>
          <textarea placeholder="{{ 'support.form.message_placeholder' | translate }}" [(ngModel)]="form.message" name="message" rows="5" required
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-gray-900 dark:focus:ring-gray-100 focus:border-gray-900 dark:focus:border-gray-100 focus:outline-none transition resize-none"></textarea>
        </div>
        
        <button type="submit"
                class="w-full px-6 py-3 rounded-lg bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-200 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02]">
          <span class="flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
            </svg>
            {{ 'support.form.submit' | translate }}
          </span>
        </button>
      </div>
    </form>
  </div>

</section>

<!-- ANIMATIONS CSS -->
<style>
  @keyframes fade-up {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-up {
    animation: fade-up 0.5s ease forwards;
  }

  article:hover img {
    transform: scale(1.1) rotate(5deg);
    transition: transform 0.3s ease;
  }
</style>
